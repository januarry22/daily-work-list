# [DB] - Index

## 1. Index ëž€?

- ì¶”ê°€ì ì¸ ì“°ê¸° ìž‘ì—…ê³¼ ì €ìž¥ ê³µê°„ì„ í™œìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ ê²€ìƒ‰ì†ë„ë¥¼ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ìžë£Œêµ¬ì¡°
- íŠ¹ì • í…Œì´ë¸”ê³¼ ë°ì´í„°ë¥¼ ìƒ‰ì¸í™” í•˜ì—¬ íƒìƒ‰ í•˜ê¸° ë•Œë¬¸ì— ê²€ìƒ‰ì— íš¨ìœ¨ì ìž„

## 2. Indexì˜ íŠ¹ì§•

```html
íŠ¹ì • ì»¬ëŸ¼ì— Indexë¥¼ ìƒì„±í•˜ë©´, í•´ë‹¹ ì»¬ëŸ¼ì˜ ë°ì´í„°ë“¤ì„ ì •ë ¬í•˜ì—¬ ë³„ë„ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì— ë°ì´í„°ì˜
ë¬¼ë¦¬ì  ì£¼ì†Œì™€ í•¨ê»˜ ì €ìž¥ë˜ê³  *ì˜µí‹°ë§ˆì´ì €ì—ì„œ íŒë‹¨í•˜ì—¬ ì¸ë±ìŠ¤ì— ì ‘ê·¼í•˜ê²Œë˜ê³  í•´ë‹¹ ì¸ë±ìŠ¤ì— ì €ìž¥ë˜ì–´ìžˆëŠ” 
ë°ì´í„°ì˜ ë¬¼ë¦¬ì  ì£¼ì†Œë¡œ ê°€ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‹ìœ¼ë¡œ ë™ìž‘í•˜ì—¬ ê²€ìƒ‰ ì†ë„ë¥¼ í–¥ìƒì‹œí‚´

* ì˜µí‹°ë§ˆì´ì € : ì˜µí‹°ë§ˆì´ì €ëŠ” ê°€ìž¥ íš¨ìœ¨ì ì¸ ë°©ë²•ìœ¼ë¡œ SQLì„ ìˆ˜í–‰í•  ìµœì ì˜ ì²˜ë¦¬ ê²½ë¡œë¥¼ ìƒì„±í•´ì£¼ëŠ” 
						DBMSì˜ í•µì‹¬ ì—”ì§„
```

[https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcQi8RP%2Fbtq8BkRrRfb%2Fa5C0jH5pfSA2KKz7C9fB7k%2Fimg.png](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcQi8RP%2Fbtq8BkRrRfb%2Fa5C0jH5pfSA2KKz7C9fB7k%2Fimg.png)

- ë°ì´í„°ê°€ ì •ë ¬ë˜ì–´ ìžˆëŠ” ìžˆìœ¼ë¯€ë¡œ, ì¡°ê±´ê²€ìƒ‰ì— ìœ ë¦¬í•˜ì§€ë§Œ ë°˜ëŒ€ë¡œ ì •ë ¬ ìƒíƒœë¥¼ ìœ ì§€ ì‹œì¼œì•¼ íš¨ìœ¨ì ì¸ ìˆ˜í–‰ì´ ê°€ëŠ¥
- ë°ì´í„°ì˜ ì–‘ì´ ì¦ê°€í• ìˆ˜ë¡ ì‹¤í–‰ ì†ë„ëŠ” ëŠë ¤ì§€ê³ , JOINì´ë‚˜ ì„œë¸Œ ì¿¼ë¦¬ ì‚¬ìš© ì‹œ ê³± ì—°ì‚°ì´ ì¼ì–´ë‚˜ ë°ì´í„° ì–‘ì´ ì¦ê°€í•˜ê¸° ë•Œë¬¸ì— Indexë¥¼ ì ì ˆí•˜ê²Œ ì‚¬ìš©
- í…Œì´ë¸”ì„ ì¡°íšŒí•˜ëŠ” ì†ë„ì™€ ê·¸ì— ë”°ë¥¸ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìžˆìŒ
- ì „ë°˜ì ì¸ ì‹œìŠ¤í…œì˜ ë¶€í•˜ë¥¼ ì¤„ì¼ ìˆ˜ ìžˆìŒ

### Index ì˜ ìž¥ì 

- **ì¡°ê±´ ê²€ìƒ‰ WHERE ì ˆì˜ íš¨ìœ¨ì„±**

ì¼ë°˜ì ìœ¼ë¡œ ì¿¼ë¦¬ë¬¸ ì‚¬ìš©ì‹œ WHERE ì¡°ê±´ì ˆì— ë§žëŠ” ë°ì´í„°ë¥¼ ì°¾ì•„ë‚¼ ë•Œ Full Table Scanì„ ì‚¬ìš©í•˜ë©´ 

ë ˆì½”ë“œì˜ ì²˜ìŒë¶€í„° ëê¹Œì§€ ë‹¤ ì½ì–´ì„œ ê²€ìƒ‰ ì¡°ê±´ê³¼ ë§žëŠ”ì§€ ë¹„êµí•¨.

í•˜ì§€ë§Œ, **ì¸ë±ìŠ¤ í…Œì´ë¸” ìŠ¤ìº”(Index Table Scan) ì‹œ** ì¸ë±ìŠ¤ í…Œì´ë¸”ì€ ë°ì´í„°ë“¤ì´ ì •ë ¬ë˜ì–´ ì €ìž¥ë˜ì–´ ìžˆê¸°ë•Œë¬¸ì— í•´ë‹¹ ì¡°ê±´**(WHERE)**ì— ë§žëŠ” ë°ì´í„°ë¥¼ ë¹ ë¥´ê²Œ ì°¾ì•„ ë‚¼ ìˆ˜ ìžˆìŒ.

- **ì •ë ¬ ORDER BY ì ˆì˜ íš¨ìœ¨ì„±**

ORDER BY ëŠ” ì •ë ¬ê³¼ ë™ì‹œì— 1ì°¨ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì—ì„œ ì •ë ¬ì´ ì´ë£¨ì–´ì§€ê³  ë©”ëª¨ë¦¬ë³´ë‹¤ í° ìž‘ì—…ì´ í•„ìš”í•˜ë‹¤ë©´ 

ì¶”ê°€ì ì¸ ë””ìŠ¤í¬ I/O ë„ ë°œìƒí•˜ê²Œ ë˜ëŠ”ë° ì´ëŸ¬í•œ ì •ë ¬ ê³¼ì •ì—†ì´ë„ ë°ì´í„°ê°€ ì´ë¯¸ ì •ë ¬ë˜ì–´ ìžˆì–´ ì¶”ê°€ì ì¸ 

ìžì›ì„ ì†Œëª¨ í•˜ì§€ ì•Šê³ ë„ ì •ë ¬ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìžˆìŒ

- **MIN, MAXì˜ íš¨ìœ¨ì ì¸ ì²˜ë¦¬ê°€ ê°€ëŠ¥**

ì •ë ¬ëœ ë°ì´í„°ì—ì„œ MINê°’ê³¼ MAXê°’ì„ ë ˆì½”ë“œì˜ ì‹œìž‘ ê°’ê³¼ ë ê°’ í•œ ê±´ì”©ë§Œ ê°€ì ¸ì˜¤ë©´ ë˜ê¸° ë•Œë¬¸ì— Full Table Scanìœ¼ë¡œ í…Œì´ë¸”ì„ íƒìƒ‰ í•˜ëŠ” ê²ƒë³´ë‹¤ íš¨ìœ¨ì ìž„

### Index ì˜ ë‹¨ì 

- ****ì¸ë±ìŠ¤ëŠ” DML(ë³€ê²½)ì— ì·¨ì•½****

DMLì„ í†µí•œ ë°ì´í„° ë³€ê²½ì‹œ **ë‹¤ì‹œ ì¸ë±ìŠ¤ í…Œì´ë¸”ì„ ì •ë ¬** ì‹œì¼œì•¼í•˜ë¯€ë¡œ DMLì´ ë¹ˆë²ˆí•œ í…Œì´ë¸” ë³´ë‹¤ ê²€ìƒ‰ì„ ìœ„ì£¼ë¡œ í•˜ëŠ” í…Œì´ë¸”ì— ìƒì„± ì‹œí‚¤ëŠ” ê²ƒì´ ì¢‹ìŒ

ì´ë•Œ ì¸ë±ìŠ¤ í…Œì´ë¸”, ì›ë³¸ í…Œì´ë¸” ë‘êµ°ë°ì˜ ë°ì´í„° ìˆ˜ì • ìž‘ì—…ì„ í•´ì£¼ì–´ì•¼í•˜ëŠ” ë‹¨ì 

- ****ì¸ë±ìŠ¤ê°€ ë¬´ì¡°ê±´ ì¢‹ì€ ê²ƒì€ ì•„ë‹ˆë‹¤****

ê²€ìƒ‰ì‹œ **í…Œì´ë¸”ì˜ ì „ì²´ ë°ì´í„° ì¤‘ 10~ 15%ì´í•˜ì˜ ë°ì´í„°**ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²½ìš°ì—ë§Œ íš¨ìœ¨ì ì´ê³  ê·¸ì´ìƒì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬ì‹œì—ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ íš¨ìœ¨ì 

- ì†ë„ í–¥ìƒì„ ìœ„í•´ ****ì¸ë±ìŠ¤ë¥¼ ë§Žì´ ë§Œë“œëŠ” ê²ƒì€ ì¢‹ì§€ ì•ŠìŒ****

ì¸ë±ìŠ¤ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ë°ì´í„°ë² ì´ìŠ¤ ì €ìž¥ê³µê°„ì˜ ì•½ 10%ì— í•´ë‹¹í•˜ëŠ” ì¶”ê°€ì ì¸ ì €ìž¥ê³µê°„ì´ í•„ìš”í•¨

ì¡°íšŒ ì„±ëŠ¥ì„ ê·¹ëŒ€í™” í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ì§€ë§Œ ë„ˆë¬´ ë§Žì€ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ê²°êµ­ ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ì„ ì €í•˜ ì‹œí‚´.

## 3.  Index ì˜ ê´€ë¦¬

- DML ë°œìƒì‹œ ì¶”ê°€ ì ì¸ ì •ë ¬ìž‘ì—…ì— ëŒ€í•œ ë¶€í•˜ë¥¼ ìµœì†Œí™” í•˜ê¸° ìœ„í•´ 'ë°ì´í„° ì‚­ì œ'ë¼ëŠ” ê°œë…ì—ì„œ 'ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤'ë¼ëŠ” ìž‘ì—…ìœ¼ë¡œ ì´ë¥¼ ëŒ€ì‹ í•¨

```html
- INSERT : ìƒˆë¡œìš´ ë°ì´í„°ì— ëŒ€í•œ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤.
- DELETE : ì‚­ì œí•˜ëŠ” ë°ì´í„°ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ìž‘ì—…ì„ ì§„í–‰í•œë‹¤.
- UPDATE : ê¸°ì¡´ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ ì²˜ë¦¬í•˜ê³ , ê°±ì‹ ëœ ë°ì´í„°ì— ëŒ€í•´ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤.
```

## 4. Index ìƒì„± ì „ëžµ

1. ê·œëª¨ê°€ ìž‘ì§€ ì•Šì€ í…Œì´ë¸” (ê²€ìƒ‰ì„ ìœ„í•œ í…Œì´ë¸”)
2. DMLì´ ë¹ˆë²ˆí•˜ì§€ ì•Šì€ ì»¬ëŸ¼
3. í•­ìƒ = ìœ¼ë¡œ ë¹„êµë˜ëŠ” ì»¬ëŸ¼
4. ì¤‘ë³µë˜ëŠ” ë°ì´í„°ê°€ ìµœì†Œí•œì¸ ì»¬ëŸ¼ (ë¶„í¬ë„ê°€ ì¢‹ì€ ì»¬ëŸ¼)
5. JOINì´ë‚˜ WHERE ë˜ëŠ” ORDER BY ì ˆì—ì„œ ìžì£¼ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼

## 5. Indexì˜ ìžë£Œêµ¬ì¡°

- ê°€ìž¥ ë§Žì´ ì‚¬ìš© ë˜ëŠ” B TREEì˜  **B * TREEì™€ BÂ + TREE êµ¬ì¡°, í•´ì‹œí…Œì´ë¸” ë“±ì´ ìžˆìŒ**

### ****[Â í•´ì‹œ í…Œì´ë¸”(Hash Table)Â ]****

- í•´ì‹œ í…Œì´ë¸”ì€ (Key, Value)ë¡œ ë°ì´í„°ë¥¼ ì €ìž¥í•˜ëŠ” ìžë£Œêµ¬ì¡° ì¤‘ í•˜ë‚˜ë¡œ ë¹ ë¥¸ ë°ì´í„° ê²€ìƒ‰ì´ í•„ìš”í•  ë•Œ ìœ ìš©í•˜ë‹¤.
- **í•´ì‹œ í…Œì´ë¸”ì€ Keyê°’ì„ ì´ìš©í•´ ê³ ìœ í•œ indexë¥¼ ìƒì„±(ë°ì´í„°=ì»¬ëŸ¼ì˜ ê°’, ë°ì´í„°ì˜ ìœ„ì¹˜)ë¥¼ (Key, Value)ë¡œ ì‚¬ìš©**í•˜ì—¬ ê·¸ indexì— ì €ìž¥ëœ ê°’ì„ êº¼ë‚´ì˜¤ëŠ” êµ¬ì¡°
- ì‹œê°„ë³µìž¡ë„ : **O(1)**
- í•´ì‹œ í•¨ìˆ˜ëŠ” ê°’ì´ 1ì´ë¼ë„ ë‹¬ë¼ì§€ë©´ ì™„ì „ížˆ ë‹¤ë¥¸ í•´ì‹œê°’ì„ ìƒì„±í•˜ë¯€ë¡œ, **ë“±í˜¸(=)ì—°ì‚°ì—ë§Œ íŠ¹í™” ë˜ì–´ìžˆì–´ ë¶€ë“±í˜¸ ì—°ì‚°(>,<)ì´ ìžì£¼ ì‚¬ìš©ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ê²€ìƒ‰ì„ ìœ„í•´ì„œëŠ” ì í•©í•˜ì§€ ì•ŠìŒ**

### ****[Â B+TreeÂ ]****

- B+TreeëŠ” DBì˜ ì¸ë±ìŠ¤ë¥¼ ìœ„í•´ ìžì‹ ë…¸ë“œê°€ 2ê°œ ì´ìƒì¸ B TREEë¥¼ ê°œì„ ì‹œí‚¨ ìžë£Œêµ¬ì¡°
- ì‹œê°„ ë³µìž¡ë„ : O(ð‘™ð‘œð‘”2ð‘›log2n)

```html
- ë¦¬í”„ë…¸ë“œ(ë°ì´í„°ë…¸ë“œ)ë§Œ ì¸ë±ìŠ¤ì™€ í•¨ê»˜ ë°ì´í„°(Value)ë¥¼ ê°€ì§€ê³  ìžˆê³ , ë‚˜ë¨¸ì§€ ë…¸ë“œ(ì¸ë±ìŠ¤ë…¸ë“œ)ë“¤ì€ 
	ë°ì´í„°ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤(Key)ë§Œì„ ê°–ëŠ”ë‹¤.
- ë¦¬í”„ë…¸ë“œë“¤ì€ LinkedListë¡œ ì—°ê²°ë˜ì–´ ìžˆë‹¤.
- ë°ì´í„° ë…¸ë“œ í¬ê¸°ëŠ” ì¸ë±ìŠ¤ ë…¸ë“œì˜ í¬ê¸°ì™€ ê°™ì§€ ì•Šì•„ë„ ëœë‹¤.
```

- BTreeì˜ ë¦¬í”„ë…¸ë“œë“¤ì„ LinkedListë¡œ ì—°ê²°í•˜ì—¬ ìˆœì°¨ê²€ìƒ‰ì„ ìš©ì´í•˜ê²Œ í•˜ëŠ” ë“± **BTreeë¥¼ ì¸ë±ìŠ¤ì— ë§žê²Œ ìµœì í™”**
- ë¶€ë“±í˜¸ë¥¼ ì´ìš©í•œ ìˆœì°¨ ê²€ìƒ‰ ì—°ì‚°ì´ ìžì£¼ ë°œìƒ í•  ìˆ˜ ìžˆëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í•´ì‹œ í…Œì´ë¸” ë³´ë‹¤ ì¸ë±ì‹±ì— ì í•©í•œ ìžë£Œêµ¬ì¡°

### ****[Â B*TreeÂ ]****

- ëŒ€ë¶€ë¶„ì˜ DBMS ê·¸ë¦¬ê³  ì˜¤ë¼í´ì—ì„œ íŠ¹ížˆ ì¤‘ì ì ìœ¼ë¡œ ì‚¬ìš©ë˜ê³  ìžˆëŠ” ë³´íŽ¸ì ì¸ ì¸ë±ìŠ¤
- Root(ê¸°ì¤€) / Branch(ì¤‘ê°„) / Leaf(ë§ë‹¨) Nodeë¡œ êµ¬ì„±ëœ ê³„ì¸µì  êµ¬ì¡°

```html
íŠ¹ì • ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ìˆœê°„ ì»¬ëŸ¼ì˜ ê°’ë“¤ì„ ì •ë ¬í•˜ëŠ”ë°, ì˜¤ë¼í´ ì„œë²„ì—ì„œ í’€ ìŠ¤ìº”ë³´ë‹¤ 
ì¸ë±ìŠ¤ ìŠ¤ìº”ì´ ìœ ë¦¬í•˜ë‹¤ê³  íŒë‹¨ë˜ì—ˆì„ ë•Œ ìƒì„±ëœ ì¸ë±ìŠ¤ì˜ ì •ë ¬í•œ ìˆœì„œê°€ ì¤‘ê°„ì¯¤ ë˜ëŠ” ë°ì´í„°ë¥¼
 ë¿Œë¦¬ì— í•´ë‹¹í•˜ëŠ” ROOT ë¸”ë¡ìœ¼ë¡œ ì§€ì •í•˜ê³  ROOT ë¸”ë¡ì„ ê¸°ì¤€ìœ¼ë¡œ ê°€ì§€ê°€ ë˜ëŠ” BRANCHë¸”ë¡ì„ 
ì •ì˜í•˜ë©° ë§ˆì§€ë§‰ìœ¼ë¡œ ìžŽì— í•´ë‹¹í•˜ëŠ” LEAF ë¸”ë¡ì— ì¸ë±ìŠ¤ì˜ í‚¤ê°€ ë˜ëŠ” ë°ì´í„°ì™€ ë°ì´í„°ì˜ 
ë¬¼ë¦¬ì  ì£¼ì†Œ ì •ë³´ì¸ ROWIDë¥¼ ì €ìž¥
```